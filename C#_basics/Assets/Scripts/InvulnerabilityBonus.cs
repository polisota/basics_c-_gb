using System;
using System.Collections;
using UnityEngine;

public class InvulnerabilityBonus : GoodBonus
{
    public GameObject[] BadBonuses;
    private Renderer _renderer;
    

    protected override void Awake()
    {
        base.Awake();
        BadBonuses = GameObject.FindGameObjectsWithTag("BadBonus");
        _renderer = GetComponent<Renderer>();

    }

    protected override void Interaction(GameObject interacted)
    {
        base.Interaction(interacted);
        _renderer.enabled = false;
        IsInteractable = false;
        StartCoroutine(Inv());       

        Debug.Log("Invulnerability for 5 sec");
    }
   

    private IEnumerator Inv()
    {        
        foreach (GameObject bb in BadBonuses)
        {
            bb.SetActive(false);            
        }
        yield return new WaitForSeconds(5);

        foreach (GameObject bb in BadBonuses)
        {
            bb.SetActive(true);
        }
    }
}
