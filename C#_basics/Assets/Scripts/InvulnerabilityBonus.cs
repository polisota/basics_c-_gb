using System;
using System.Collections;
using UnityEngine;

public class InvulnerabilityBonus : GoodBonus
{
    public GameObject[] BadBonuses;
    private Renderer _renderer;
    [Header("¬рем€ неу€звимости:"), Range(5, 15)]
    public int _time;


    protected override void Awake()
    {
        base.Awake();
        BadBonuses = GameObject.FindGameObjectsWithTag("BadBonus");
        _renderer = GetComponent<Renderer>();

    }

    protected override void Interaction(GameObject interacted)
    {
        base.Interaction(interacted);
        _renderer.enabled = false;
        IsInteractable = false;
        StartCoroutine(Inv());       

        Debug.Log("Invulnerability for " + _time + "sec");
    }
   

    private IEnumerator Inv()
    {        
        foreach (GameObject bb in BadBonuses)
        {
            bb.SetActive(false);            
        }
        yield return new WaitForSeconds(_time);

        foreach (GameObject bb in BadBonuses)
        {
            bb.SetActive(true);
        }
    }
}
